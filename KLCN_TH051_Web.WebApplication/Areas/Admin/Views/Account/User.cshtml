<div class="d-flex justify-content-between mb-3">
    <h5 class="mb-0">Danh sách tài khoản</h5>
    <button id="btnOpenCreateModal" class="btn btn-primary">+ Thêm</button>
</div>
<div class="card mb-3">
    <div class="card-body table-responsive">

        <table class="table table-hover align-middle">
            <thead class="table-light">
                <tr>
                    <th>Id</th>
                    <th>Ảnh</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th>Vai trò</th>
                    <th>Ngày tạo</th>
                    <th>Trạng thái</th>
                    <th class="text-end">Tùy chọn</th>
                </tr>
            </thead>

            <tbody id="accountTableBody">
                <!-- JS sẽ render -->
            </tbody>
        </table>

    </div>
</div>

<!-- ======================= MODAL TẠO TÀI KHOẢN ======================= -->
<div class="modal fade" id="createAccountModal">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content p-3">

            <div class="modal-header">
                <h5 class="modal-title">Tạo tài khoản mới</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <form id="createAccountForm">

                    <!-- Ảnh đại diện -->
                    <div class="text-center mb-4">
                        <img id="createAvatar"
                             src="https://placehold.co/100x100"
                             class="rounded-circle mb-2" />
                        <br />
                        <button type="button"
                                class="btn btn-outline-secondary btn-sm"
                                id="btnUploadAvatar">
                            Chọn ảnh
                        </button>
                    </div>

                    <!-- Họ tên + Email -->
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="createFullName">Họ tên</label>
                            <input id="createFullName" class="form-control" />
                        </div>

                        <div class="col-md-6">
                            <label for="createEmail">Email</label>
                            <input id="createEmail" class="form-control" type="email" />
                        </div>
                    </div>

                    <!-- Vai trò + Trạng thái -->
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="createRole">Vai trò</label>
                            <select id="createRole" class="form-select">
                                <option value="Teacher">Teacher</option>
                                <option value="Student">Student</option>
                                <option value="Admin">Admin</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label for="createStatus">Trạng thái</label>
                            <select id="createStatus" class="form-select">
                                <option value="true">Hoạt động</option>
                                <option value="false">Tạm khóa</option>
                            </select>
                        </div>
                    </div>

                    <!-- Mật khẩu -->
                    <label for="createPassword">Mật khẩu</label>
                    <input id="createPassword"
                           class="form-control mb-3"
                           type="password"
                           placeholder="Nhập mật khẩu..." />

                    <!-- Nút lưu -->
                    <button type="submit" class="btn btn-success">
                        Tạo tài khoản
                    </button>

                </form>

            </div>

        </div>
    </div>
</div>

<!-- ======================= MODAL CHỈNH SỬA TÀI KHOẢN ======================= -->
<div class="modal fade" id="editAccountModal">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content p-3">

            <div class="modal-header">
                <h5 class="modal-title">Chỉnh sửa tài khoản</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <form id="editAccountForm">

                    <!-- Ảnh đại diện -->
                    <div class="text-center mb-4">
                        <img id="editAvatar"
                             src="https://placehold.co/100x100"
                             class="rounded-circle mb-2" />
                        <br />
                        <button type="button"
                                class="btn btn-outline-secondary btn-sm"
                                id="btnChangeAvatar">
                            Đổi ảnh
                        </button>
                    </div>

                    <!-- Họ tên + Email -->
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="editFullName">Họ tên</label>
                            <input id="editFullName" class="form-control" />
                        </div>

                        <div class="col-md-6">
                            <label for="editEmail">Email</label>
                            <input id="editEmail" class="form-control" type="email" />
                        </div>
                    </div>

                    <!-- Vai trò + Trạng thái -->
                    <div class="row mb-3">

                        <div class="col-md-6">
                            <label for="editRole">Vai trò</label>
                            <select id="editRole" class="form-select">
                                <option value="Teacher">Teacher</option>
                                <option value="Student">Student</option>
                                <option value="Admin">Admin</option>
                            </select>
                        </div>

                        <div class="col-md-6">
                            <label for="editStatus">Trạng thái</label>
                            <select id="editStatus" class="form-select">
                                <option value="true">Hoạt động</option>
                                <option value="false">Tạm khóa</option>
                            </select>
                        </div>

                    </div>

                    <!-- Mật khẩu -->
                    <label for="editPassword">Mật khẩu (nếu đổi)</label>
                    <input id="editPassword"
                           class="form-control mb-3"
                           type="password"
                           placeholder="Nhập mật khẩu mới..." />

                    <!-- Nút lưu -->
                    <button type="submit" class="btn btn-primary">
                        Lưu thay đổi
                    </button>

                </form>

            </div>

        </div>
    </div>
</div>

<!-- ======================= MODAL XÁC NHẬN XÓA ======================= -->
<div class="modal fade" id="deleteAccountModal">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3">

            <div class="modal-header">
                <h5 class="modal-title text-danger">Xác nhận xóa tài khoản</h5>
                <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body text-center">
                <p>Bạn có chắc chắn muốn xóa tài khoản <strong id="deleteAccountName"></strong> không?</p>
                <small class="text-muted">Hành động này không thể hoàn tác.</small>
            </div>

            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Hủy
                </button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">
                    Xóa
                </button>
            </div>

        </div>
    </div>
</div>


@* @section Scripts {
    <script type="module" src="@Url.Content("~/js/modules/admin/user/user.list.js")"></script>

} *@
