@{
    ViewData["Title"] = "Trang chủ";
}

<section class="py-4">
    <div class="container">
        <div class="row">

            <div class="col-lg-3">
                <div class="bg-custom-blue text-white rounded">
                    <h5 class="fw-bold mb-0 p-3"><i class="bi bi-list"></i> DANH MỤC</h5>

                    <ul class="list-group list-group-flush text-dark hover-scroll-list" id="subjectList">
                    </ul>
                </div>
            </div>

            <div class="col-lg-9">

                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Tìm bất cứ thứ gì mà bạn muốn" aria-label="Search">
                    <button class="btn btn-outline-custom-blue" type="button">
                        <i class="bi bi-search"></i>
                    </button>
                </div>

                <div id="bannerCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner" id="bannerList" style="height: 300px;"></div>

                    <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                        <span class="visually-hidden">Next</span>
                    </button>

                    <ol class="carousel-indicators" id="bannerIndicators"></ol>
                </div>
            </div>

        </div>
    </div>
</section>

<section class="bg-light py-5 text-center">
    <div class="container">
        <h1 class="display-5 fw-bold mb-3">Nền tảng học tập cho mọi người</h1>
        <p class="lead mb-4">
            Cùng nhau học, chia sẻ và phát triển kỹ năng lập trình và công nghệ.
        </p>
        <a href="/Course/Index" class="btn btn-primary btn-lg px-4">
            Khám phá khóa học
        </a>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold">Tại sao chọn chúng tôi?</h2>

        <div class="row g-4 text-center">
            @foreach (var feature in new[] {
            new { Icon = "bi-laptop", Title = "Học trực tuyến linh hoạt", Desc = "Truy cập mọi lúc, mọi nơi với hệ thống học trực tuyến hiện đại." },
            new { Icon = "bi-journal-code", Title = "Khóa học chất lượng", Desc = "Nội dung được biên soạn kỹ lưỡng bởi giảng viên nhiều kinh nghiệm." },
            new { Icon = "bi-chat-dots", Title = "Cộng đồng hỗ trợ", Desc = "Tham gia thảo luận và nhận sự giúp đỡ từ các học viên khác." },
            new { Icon = "bi-bar-chart-line", Title = "Theo dõi tiến độ", Desc = "Đánh giá hiệu quả từng khóa học dễ dàng." }
            })
            {
                <div class="col-md-3">
                    <div class="px-3">
                        <i class="bi @feature.Icon fs-1 text-primary mb-3"></i>
                        <h5>@feature.Title</h5>
                        <p class="text-muted">@feature.Desc</p>
                    </div>
                </div>
            }
        </div>
    </div>
</section>

<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold">Khóa học ngẫu nhiên</h2>

        <div class="carousel-container position-relative">
            <div class="carousel-track d-flex overflow-hidden" id="course-random-carousel"></div>
        </div>
    </div>
</section>

<section class="bg-primary text-white text-center py-5">
    <div class="container">
        <h2 class="mb-4 fw-bold">Bắt đầu hành trình học tập của bạn hôm nay!</h2>
        <a href="/Account/Register" class="btn btn-light btn-lg px-4">
            Đăng ký ngay
        </a>
    </div>
</section>

@section Scripts {
    <script type="module" src="/js/modules/student/course.rand.js"></script>
    <script type="module" src="~/js/modules/student/banner/banner.home.js"></script>
    @* <script type="module" src="~/js/modules/student/subject/subject.home.js"></script> *@
}

@section Styles {
    <style>

        :root {
            --custom-blue: #0072B0;
        }

        .bg-custom-blue {
            background-color: var(--custom-blue) !important;
            color: white;
        }

        .btn-outline-custom-blue {
            color: var(--custom-blue);
            border-color: var(--custom-blue);
        }

            .btn-outline-custom-blue:hover {
                color: white;
                background-color: var(--custom-blue);
                border-color: var(--custom-blue);
            }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            filter: invert(33%) sepia(94%) saturate(2289%) hue-rotate(189deg) brightness(91%) contrast(101%);
        }

        .carousel-indicators [data-bs-target] {
            background-color: var(--custom-blue);
        }

        /* --- CSS CHO HIỆU ỨNG CUỘN KHI HOVER --- */
        .hover-scroll-list {
            /* ĐÃ CHỈNH SỬA: Giảm xuống 296px để cân bằng với cột phải */
            max-height: 296px;
            overflow-y: hidden; /* Mặc định ẩn thanh cuộn */
            transition: all 0.3s ease;
        }

            .hover-scroll-list:hover {
                overflow-y: auto; /* Hiện thanh cuộn khi di chuột vào */
            }

            /* Tùy chỉnh thanh cuộn Webkit (Chrome, Edge, Safari) */
            .hover-scroll-list::-webkit-scrollbar {
                width: 6px;
            }

            .hover-scroll-list::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 4px;
            }

            .hover-scroll-list::-webkit-scrollbar-thumb {
                background: var(--custom-blue);
                border-radius: 4px;
            }
        .carousel-container {
            position: relative;
        }

        .carousel-track {
            display: flex !important;
            overflow: hidden;
            transition: transform 0.3s ease;
            gap: 1.25rem;
        }

        .carousel-item-course {
            flex: 0 0 calc(33.333% - 1.25rem);
            box-sizing: border-box;
        }

        #bannerList .carousel-item img {
            width: 100%;
            height: 300px; /* cố định chiều cao */
            object-fit: cover; /* cắt vừa khung */
        }

        #subjectList .list-group-item {
            cursor: pointer;
        }

            /* Hiệu ứng hover nhẹ cho từng item trong list subject */
            #subjectList .list-group-item:hover {
                /* Làm sáng màu nền lên một chút khi hover vào item */
                filter: brightness(110%);
            }
    </style>
}