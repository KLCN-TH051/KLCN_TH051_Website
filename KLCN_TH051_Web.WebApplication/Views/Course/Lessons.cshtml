@{
    Layout = "_LessonLayout";
}
<div class="row">
    <!-- SIDEBAR -->
    <div class="col-3 border-end bg-white 100vh overflow-auto">
        <ul class="list-group list-group-flush mt-2">
            <!-- Danh sách chapter & lesson sẽ render bằng JS -->
        </ul>
    </div>
    <!-- MAIN CONTENT -->
    <div class="col-9 p-3 100vh overflow-auto">
        <div class="bg-white p-3 rounded shadow-sm" id="mainContent">
            <!-- Nội dung bài học -->
        </div>
        <button class="btn btn-primary mt-3">Bài sau</button>
    </div>
</div>

<script>
    // Lấy courseId từ URL: /Course/Lessons/{lessonId}?courseId=123
    const urlParams = new URLSearchParams(window.location.search);
    window.currentCourseId = urlParams.get('courseId'); // null nếu không có query
    window.currentLessonId = window.location.pathname.split("/").pop();
</script>
<script type="module" src="~/js/modules/student/lesson/lesson.render.js"></script>





@* <script>
    document.addEventListener("DOMContentLoaded", function () {

        const lessonItems = document.querySelectorAll(".lesson-item");
        const mainContent = document.getElementById("mainContent");

        // Nội dung các bài
        const lessonsContent = {
            lesson: `
                <h5 class="fw-bold">Bài 1: Giới thiệu React</h5>
                <p>React là một thư viện JavaScript mạnh mẽ dùng để xây dựng giao diện người dùng...</p>
            `,
            video: `
                <h5 class="fw-bold">Bài 1: Video</h5>
                <video id="videoPreview" controls style="width:100%;background:#000;">
                    <source src="" type="video/mp4" />
                </video>
            `,
            quiz: `
                <h5 class="fw-bold">Bài 2: Câu hỏi Javascript cơ bản</h5>

                <form id="quizForm">

                    <!-- Câu 1 -->
                    <div class="mb-3">
                        <label class="form-label">1. JavaScript là gì?</label>
                        <div><input type="radio" name="question1" value="A"> Ngôn ngữ lập trình web</div>
                        <div><input type="radio" name="question1" value="B"> Hệ điều hành</div>
                        <div><input type="radio" name="question1" value="C"> Ngôn ngữ lập trình hệ thống</div>
                    </div>

                    <!-- Câu 2 -->
                    <div class="mb-3">
                        <label class="form-label">2. 'let', 'const', 'var' dùng để khai báo gì?</label>
                        <div><input type="checkbox" name="question2" value="A"> Biến</div>
                        <div><input type="checkbox" name="question2" value="B"> Hằng số</div>
                        <div><input type="checkbox" name="question2" value="C"> Hàm</div>
                        <div><input type="checkbox" name="question2" value="D"> Số âm</div>
                    </div>

                    <button type="button" class="btn btn-primary" id="submitQuiz">Nộp bài</button>
                </form>

                <div id="quizResult" class="mt-3"></div>
            `
        };

        // Click chọn bài học
        lessonItems.forEach(item => {
            item.addEventListener("click", function () {

                const lessonId = item.getAttribute("data-id");
                mainContent.innerHTML = lessonsContent[lessonId] || "Chưa có nội dung.";

                // Nếu bài là quiz -> gắn sự kiện nộp bài
                if (lessonId === "quiz") {
                    attachQuizHandler();
                }
            });
        });

        // ======================
        // HÀM XỬ LÝ QUIZ
        // ======================
        function attachQuizHandler() {

            const submitBtn = document.getElementById("submitQuiz");
            const resultDiv = document.getElementById("quizResult");

            submitBtn.addEventListener("click", function () {

                let score = 0;

                // Đáp án đúng
                const answers = {
                    question1: "A",            // radio
                    question2: ["A", "B", "C"] // checkbox
                };

                // Lấy câu 1
                const q1 = document.querySelector('input[name="question1"]:checked')?.value;

                // Lấy câu 2 (checkbox)
                const q2 = Array.from(document.querySelectorAll('input[name="question2"]:checked'))
                                .map(c => c.value);

                // Kiểm tra câu 1
                if (q1 === answers.question1) score++;

                // Kiểm tra câu 2: mảng phải trùng 100%
                if (JSON.stringify(q2.sort()) === JSON.stringify(answers.question2.sort())) score++;

                // Hiển thị kết quả
                resultDiv.style.display = "none";
                setTimeout(() => {
                    resultDiv.innerHTML = `Bạn đã trả lời đúng ${score} / 2 câu.`;
                    resultDiv.style.display = "block";
                    resultDiv.classList.add("fade-in");
                }, 200);
            });
        }

    });
</script> *@
